(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5309],{8516:(e,t,a)=>{Promise.resolve().then(a.bind(a,8975))},8975:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var r=a(5155),l=a(2115),s=a(5565),n=a(7830),o=a(4788),i=a(8591),c=a(940);function d(e){let{foodQuery:t,setFoodQuery:a,onSelectFood:s}=e,[n,i]=(0,l.useState)([]),[c,d]=(0,l.useState)(null),m=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(!t.trim()){i([]),d(null);return}let e=async()=>{try{let e=await fetch("".concat("http://localhost:5000","/api/foods/search?query=").concat(encodeURIComponent(t),"&fields=").concat(encodeURIComponent("id,food_name")));if(!e.ok){let t=await e.json();d(t.message||"An error occurred."),i([]);return}let a=(await e.json()).map(e=>{var t,a;return{...e,name:null!==(a=null!==(t=e.food_name)&&void 0!==t?t:e.name)&&void 0!==a?a:"Unknown"}});i(a.slice(0,10)),d(null)}catch(e){d("Failed to fetch data. Please try again later."),i([])}},a=setTimeout(()=>e(),500);return()=>clearTimeout(a)},[t]),(0,l.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&i([])};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let g=e=>{s(e),a(e.food_name||e.name),i([])};return(0,r.jsxs)("div",{ref:m,className:"relative w-full",children:[(0,r.jsxs)("div",{className:"flex items-center border border-gray-300 dark:border-gray-700 rounded-md",children:[(0,r.jsx)(o.In,{icon:"mdi:food",className:"ml-3 text-gray-500"}),(0,r.jsx)("input",{type:"text",placeholder:"Search food...",value:t,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 focus:outline-none dark:bg-gray-800 dark:text-gray-100"})]}),n.length>0&&(0,r.jsx)("ul",{className:"absolute left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md max-h-60 overflow-y-auto z-10 shadow-lg",children:n.map(e=>(0,r.jsx)("li",{onClick:()=>g(e),className:"px-4 py-2 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600",children:e.name},e.id))}),c&&(0,r.jsx)("p",{className:"text-red-500 mt-2",children:c})]})}var m=a(7711),g=a(5781);g.t1.register(g.PP,g.kc,g.E8,g.m_,g.s$,g.Bs);let u=(0,m.default)(()=>a.e(6472).then(a.bind(a,6472)).then(e=>e.Pie),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),x=(0,m.default)(()=>a.e(6472).then(a.bind(a,6472)).then(e=>e.Bar),{loadableGenerated:{webpack:()=>[null]},ssr:!1});function b(e){let{macroPieData:t,progressData:a,mealPieCharts:s}=e,[n,o]=(0,l.useState)(!1);(0,l.useEffect)(()=>{o(document.documentElement.classList.contains("dark"));let e=new MutationObserver(()=>{o(document.documentElement.classList.contains("dark"))});return e.observe(document.documentElement,{attributes:!0}),()=>e.disconnect()},[]);let i=n?"#F3F4F6":"#1F2937",c="system-ui, sans-serif",d=(0,l.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{color:i,font:{family:c}}},tooltip:{callbacks:{label:e=>"".concat(e.dataset.label,": ").concat(e.parsed.y.toFixed(2),"%")},bodyFont:{family:c,size:12,color:i}}},scales:{y:{type:"linear",beginAtZero:!0,max:100,ticks:{callback:function(e){return"".concat(e,"%")},color:i,font:{family:c}},grid:{color:n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},x:{type:"category",ticks:{color:i,font:{family:c}},grid:{color:n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}}}}),[n,i,c]),m=(0,l.useMemo)(()=>({maintainAspectRatio:!1,plugins:{legend:{labels:{color:i,font:{family:c}}}}}),[i,c]);return(0,r.jsxs)("section",{className:"mb-12",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-6 dark:text-gray-100",children:"Charts"}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 mb-16",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 dark:text-gray-100",children:"Daily Macro Distribution (per 100g)"}),(0,r.jsx)("div",{className:"w-full h-64 lg:h-80",children:(0,r.jsx)(u,{data:t,options:m})})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 dark:text-gray-100",children:"RDA Progress (%)"}),(0,r.jsx)("div",{className:"w-full h-64 lg:h-80",children:(0,r.jsx)(x,{data:a,options:d})})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-6 dark:text-gray-100",children:"Meal-wise Distribution"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((e,t)=>{let{meal:a,data:l}=e;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-4 dark:text-gray-100 capitalize",children:[a," Macros (per 100g)"]}),(0,r.jsx)("div",{className:"w-full h-64",children:(0,r.jsx)(u,{data:l,options:m})})]},t)})})]})}let h={protein_g:50,carbohydrate_g:130,total_fat_g:70,vit_c_mg:90,calcium_mg:1e3,iron_mg:18,vit_a_mcug_ug:900,vit_d_mcug:20,vit_e_mg:15,vit_k_mcug:120,thiamin_mg:1.2,riboflavin_mg:1.3,niacin_mg:16,vit_b6_mg:1.3,vit_b5_mg:5,vit_b12_mcug:2.4,folate_total_mcug:400,choline_mg:550,magnesium_mg:420,potassium_mg:4700},p=[{categoryName:"General",columns:[{key:"water_g",label:"Water (g)"},{key:"theobromine_mg",label:"Theobromine (mg)"},{key:"alcohol_g",label:"Alcohol (g)"},{key:"caffeine_mg",label:"Caffeine (mg)"}]},{categoryName:"Macronutrients",columns:[{key:"carbohydrate_g",label:"Carbs (g)"},{key:"protein_g",label:"Protein (g)"},{key:"total_fat_g",label:"Fat (g)"},{key:"dietary_fiber_g",label:"Fiber (g)"},{key:"total_sugars_g",label:"Sugars (g)"},{key:"free_sugars_g",label:"Free Sugars (g)"}]},{categoryName:"Lipids & Cholesterol",columns:[{key:"sfa_g",label:"Saturated Fat (g)"},{key:"mufa_g",label:"Monounsaturated (g)"},{key:"pufa_g",label:"Polyunsaturated (g)"},{key:"cholesterol_mg",label:"Cholesterol (mg)"}]},{categoryName:"Vitamins",columns:[{key:"vit_a_mcug_ug",label:"Vitamin A (\xb5g)"},{key:"retinol_mcug",label:"Retinol (\xb5g)"},{key:"lutein_zeaxanthin_mcug",label:"Lutein+Zeax. (\xb5g)"},{key:"carotene_alpha_mcug",label:"Alpha-Caroten. (\xb5g)"},{key:"carotene_beta_mcug",label:"Beta-Caroten. (\xb5g)"},{key:"carotenoids_ug",label:"Carotenoids (\xb5g)"},{key:"cryptoxanthin_beta_mcug",label:"Beta-Crypt. (\xb5g)"},{key:"vit_d_mcug",label:"Vitamin D (\xb5g)"},{key:"vit_d2_mcug",label:"Vitamin D2 (\xb5g)"},{key:"vit_d3_mcug",label:"Vitamin D3 (\xb5g)"},{key:"vit_k_mcug",label:"Vitamin K (\xb5g)"},{key:"vit_k1_mcug",label:"Vitamin K1 (\xb5g)"},{key:"vit_k2_mcug",label:"Vitamin K2 (\xb5g)"},{key:"vit_e_mg",label:"Vitamin E (mg)"},{key:"vit_e_added_mg",label:"Vit. E added (mg)"},{key:"vit_c_mg",label:"Vitamin C (mg)"},{key:"thiamin_mg",label:"Thiamin (mg)"},{key:"riboflavin_mg",label:"Riboflavin (mg)"},{key:"niacin_mg",label:"Niacin (mg)"},{key:"vit_b6_mg",label:"Vitamin B6 (mg)"},{key:"vit_b5_mg",label:"Vitamin B5 (mg)"},{key:"vit_b7_mcug",label:"Vitamin B7 (\xb5g)"},{key:"folate_dfe_mcug",label:"Folate DFE (\xb5g)"},{key:"folate_food_mcug",label:"Folate Food (\xb5g)"},{key:"folate_total_mcug",label:"Folate Total (\xb5g)"},{key:"folic_acid_mcug",label:"Folic Acid (\xb5g)"},{key:"vit_b12_mcug",label:"Vitamin B12 (\xb5g)"},{key:"vit_b12_added_mcug",label:"Vit. B12 added (\xb5g)"},{key:"choline_mg",label:"Choline (mg)"}]},{categoryName:"Minerals",columns:[{key:"calcium_mg",label:"Calcium (mg)"},{key:"phosphorus_mg",label:"Phosphorus (mg)"},{key:"magnesium_mg",label:"Magnesium (mg)"},{key:"sodium_mg",label:"Sodium (mg)"},{key:"potassium_mg",label:"Potassium (mg)"},{key:"iron_mg",label:"Iron (mg)"},{key:"zinc_mg",label:"Zinc (mg)"},{key:"copper_mg",label:"Copper (mg)"},{key:"selenium_mcug",label:"Selenium (\xb5g)"},{key:"chromium_mg",label:"Chromium (mg)"},{key:"manganese_mg",label:"Manganese (mg)"},{key:"molybdenum_mg",label:"Molybdenum (mg)"}]}],y={protein_g:"Essential for muscle repair and growth.",carbohydrate_g:"Primary fuel for high-intensity exercise.",total_fat_g:"Provides sustained energy and aids hormone production.",dietary_fiber_g:"Supports digestive health and steady energy.",vit_c_mg:"Boosts immune function and collagen synthesis.",calcium_mg:"Essential for bone health and muscle contraction.",iron_mg:"Key for oxygen transport and reducing fatigue.",sodium_mg:"Aids fluid balance and nerve function.",potassium_mg:"Helps regulate muscle contractions and nerve signals."},f=p.flatMap(e=>e.columns).reduce((e,t)=>(e[t.key]=t.label,e),{});function k(e){let{selectedNutrients:t,onChange:a}=e,[s,n]=(0,l.useState)(null),i=e=>{t.includes(e)?a(t.filter(t=>t!==e)):a([...t,e])};return(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:p.map((e,a)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>n(s===a?null:a),className:"px-3 py-1 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 dark:text-white flex items-center gap-1",children:[e.categoryName,(0,r.jsx)(o.In,{icon:s===a?"mdi:chevron-up":"mdi:chevron-down"})]}),s===a&&(0,r.jsx)("div",{className:"absolute z-10 mt-1 py-2 w-48 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow",children:e.columns.map(e=>{let a=t.includes(e.key);return(0,r.jsxs)("label",{className:"flex items-center px-3 py-1 text-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,r.jsx)("input",{type:"checkbox",className:"mr-2",checked:a,onChange:()=>i(e.key)}),e.label]},e.key)})})]},e.categoryName))})}function _(e){let{title:t,message:a,onConfirm:s,onCancel:i}=e,c=(0,l.useRef)(null);return(0,l.useEffect)(()=>{c.current&&n.gsap.from(c.current,{opacity:0,scale:.8,duration:.5,ease:"power3.out"})},[]),(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:i,"aria-modal":"true",role:"dialog",children:(0,r.jsxs)("div",{ref:c,onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-100 flex items-center gap-2",children:[(0,r.jsx)(o.In,{icon:"mdi:alert-circle-outline"}),t]}),(0,r.jsx)("p",{className:"mb-6 dark:text-gray-300",children:a}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsxs)("button",{onClick:i,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-md transition duration-200 flex items-center gap-1",children:[(0,r.jsx)(o.In,{icon:"mdi:cancel"}),"Cancel"]}),(0,r.jsxs)("button",{onClick:s,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md transition duration-200 flex items-center gap-1",children:[(0,r.jsx)(o.In,{icon:"mdi:check"}),"Confirm"]})]})]})})}let j=(0,l.memo)(e=>{let{item:t,idx:a,selectedNutrients:l,computeCalories:s,expanded:n,onToggleExpanded:i,onDelete:c}=e,d=t.name.split(" "),m=n||d.length<=5?t.name:d.slice(0,5).join(" ")+"...";return(0,r.jsxs)("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:()=>i(a),children:[(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 border text-sm sm:text-base",children:m}),(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 border text-center text-sm",children:t.portion}),(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 border text-center text-sm",children:s(t).toFixed(2)}),(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 border text-center text-sm capitalize",children:t.mealType}),p.map(e=>e.columns.filter(e=>l.includes(e.key)).map(e=>{let a=t.nutrients[e.key]||0,l=a*(t.portion||1);return(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 border text-right text-sm",children:0!==a?l.toFixed(2):"N/A"},e.key)})),(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 border text-center",children:(0,r.jsxs)("button",{onClick:e=>c(a,e),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded-md transition duration-200 text-sm","aria-label":"Remove ".concat(t.name),children:[(0,r.jsx)(o.In,{icon:"mdi:delete",className:"inline-block align-middle"})," ","Remove"]})})]})});function N(){let[e,t]=(0,l.useState)([]),[a,m]=(0,l.useState)(""),[g,u]=(0,l.useState)(null),[x,N]=(0,l.useState)(1),[v,w]=(0,l.useState)("breakfast"),[C,F]=(0,l.useState)(["protein_g","carbohydrate_g","total_fat_g","vit_c_mg"]),[S,E]=(0,l.useState)(null),[P,A]=(0,l.useState)(!1),[M,T]=(0,l.useState)(null),[I,R]=(0,l.useState)(!1),[B,D]=(0,l.useState)(null),[V,z]=(0,l.useState)({}),L=(0,l.useRef)(null);(0,l.useEffect)(()=>{L.current&&n.gsap.from(L.current,{opacity:0,y:20,duration:.8,ease:"power3.out"})},[]);let O=e=>e.nutrients.energy_kcal?e.nutrients.energy_kcal*(e.portion||1):(4*(e.nutrients.protein_g||0)+4*(e.nutrients.carbohydrate_g||0)+9*(e.nutrients.total_fat_g||0))*(e.portion||1),K=async(e,t)=>{try{let a=await fetch("".concat("http://localhost:5000","/api/foods/").concat(e,"/nutrients"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nutrients:t})});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to fetch nutrients.")}return(await a.json()).nutrients}catch(e){return console.error(e),{}}},G=async()=>{if(!g)return;A(!0),T(null);let e=g.id.toString(),a=await K(e,C),r={...g,portion:x,mealType:v,nutrients:a};t(e=>[...e,r]),u(null),m(""),N(1),A(!1)},H=e=>{D(e),R(!0)};(0,l.useEffect)(()=>{(async()=>{if(0!==e.length){A(!0),T(null);try{let a=await Promise.all(e.map(async e=>{let t=e.id.toString(),a=await K(t,C);return{...e,nutrients:a}}));t(a)}catch(e){T("Failed to update nutrient data.")}finally{A(!1)}}})()},[C]);let U=(0,l.useMemo)(()=>{let t={};for(let a of C)t[a]=e.reduce((e,t)=>e+(t.nutrients[a]||0)*(t.portion||1),0);return t},[e,C]),Z=(0,l.useMemo)(()=>C.filter(e=>null!=h[e]&&"energy_kcal"!==e),[C]),Q=(0,l.useMemo)(()=>({labels:Z.map(e=>f[e]||e),datasets:[{label:"RDA Progress (%)",data:Z.map(e=>{let t=(U[e]||0)/(h[e]||1)*100;return t>100?100:t}),backgroundColor:"#4caf50"}]}),[Z,U]),q=(0,l.useMemo)(()=>({protein:e.reduce((e,t)=>e+(t.nutrients.protein_g||0)*(t.portion||1),0),carbs:e.reduce((e,t)=>e+(t.nutrients.carbohydrate_g||0)*(t.portion||1),0),fat:e.reduce((e,t)=>e+(t.nutrients.total_fat_g||0)*(t.portion||1),0)}),[e]),J=(0,l.useMemo)(()=>{let{protein:e,carbs:t,fat:a}=q;return{labels:["Protein (g)","Carbs (g)","Fat (g)"],datasets:[{data:[e,t,a],backgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}},[q]),W=(0,l.useMemo)(()=>["breakfast","lunch","dinner"].map(t=>{let a=e.filter(e=>e.mealType===t);return{meal:t,data:{labels:["Protein (g)","Carbs (g)","Fat (g)"],datasets:[{data:[a.reduce((e,t)=>e+(t.nutrients.protein_g||0)*(t.portion||1),0),a.reduce((e,t)=>e+(t.nutrients.carbohydrate_g||0)*(t.portion||1),0),a.reduce((e,t)=>e+(t.nutrients.total_fat_g||0)*(t.portion||1),0)],backgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}}}),[e]),Y=(0,l.useMemo)(()=>e.reduce((e,t)=>e+O(t),0),[e]),$=e=>{z(t=>({...t,[e]:!t[e]}))};return(0,r.jsxs)("div",{className:"relative min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,r.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,r.jsx)(s.default,{src:"/images/nutrition.webp",alt:"Nutrition Background",fill:!0,priority:!0,className:"object-cover filter blur-sm",style:{mixBlendMode:"overlay",backgroundColor:"rgba(245,240,235,1)"}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[rgba(255,255,255,0.15)] dark:bg-[rgba(20,20,20,0.6)] pointer-events-none"})]}),(0,r.jsx)("header",{className:"mx-4 sm:mx-6 lg:mx-16 mt-6",children:(0,r.jsx)(i.A,{crumbs:[{label:"Home",href:"/"},{label:"Nutrition",href:"/nutrition"},{label:"Food Tracker",href:"/nutrition/calculator/foodtracker"}]})}),(0,r.jsxs)("main",{className:"relative z-10 mx-4 sm:mx-6 lg:mx-16 my-6 p-4 sm:p-6 lg:p-8 bg-white/70 dark:bg-gray-900/70 backdrop-blur-sm rounded-[20px] sm:rounded-[30px] shadow-lg",children:[(0,r.jsxs)("section",{className:"mb-12 text-center",children:[(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold mb-4 dark:text-white",children:"Food Tracker"}),(0,r.jsx)("p",{className:"text-lg italic dark:text-gray-300",children:"Track your daily intake (per 100g basis)."})]}),(0,r.jsxs)("section",{className:"mb-12",children:[(0,r.jsxs)("div",{className:"mb-6 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,r.jsx)(k,{selectedNutrients:C,onChange:F}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(d,{foodQuery:a,setFoodQuery:m,onSelectFood:e=>u(e)})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-6",children:[(0,r.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-6 py-2 rounded-md focus:outline-none",children:[(0,r.jsx)("option",{value:"breakfast",children:"Breakfast"}),(0,r.jsx)("option",{value:"lunch",children:"Lunch"}),(0,r.jsx)("option",{value:"dinner",children:"Dinner"})]}),(0,r.jsx)("input",{type:"number",value:x,min:.1,step:.1,onChange:e=>N(parseFloat(e.target.value)),placeholder:"Portion",className:"border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-md w-24 focus:outline-none"}),(0,r.jsxs)("button",{onClick:G,className:"bg-teal-500 hover:bg-teal-600 text-white px-6 py-2 rounded-md transition duration-200 flex items-center gap-2",disabled:P,children:[(0,r.jsx)(o.In,{icon:"mdi:plus"})," ",P?"Adding...":"Add"]})]}),M&&(0,r.jsx)("p",{className:"text-red-500 mt-3",children:M})]}),(0,r.jsxs)("section",{className:"mb-12",children:[(0,r.jsx)("h2",{className:"text-2xl mb-6 font-semibold dark:text-white",children:"Your Daily Intake"}),e.length>0?(0,r.jsx)("div",{className:"overflow-x-auto",ref:L,children:(0,r.jsxs)("table",{className:"min-w-full bg-white dark:bg-gray-800 border-collapse shadow-md rounded-lg overflow-hidden",children:[(0,r.jsxs)("thead",{className:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{rowSpan:2,className:"px-2 sm:px-4 py-2 border text-left text-sm",children:"Food"}),(0,r.jsx)("th",{rowSpan:2,className:"px-2 sm:px-4 py-2 border text-center text-sm",children:"Portion"}),(0,r.jsx)("th",{rowSpan:2,className:"px-2 sm:px-4 py-2 border text-center text-sm",children:"Calories"}),(0,r.jsx)("th",{rowSpan:2,className:"px-2 sm:px-4 py-2 border text-center text-sm",children:"Meal"}),p.map(e=>{let t=e.columns.filter(e=>C.includes(e.key));return 0===t.length?null:(0,r.jsx)("th",{colSpan:t.length,className:"px-2 sm:px-4 py-2 border text-center text-sm",children:e.categoryName},e.categoryName)}),(0,r.jsx)("th",{rowSpan:2,className:"px-2 sm:px-4 py-2 border text-center text-sm",children:"Actions"})]}),(0,r.jsx)("tr",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:p.map(e=>e.columns.filter(e=>C.includes(e.key)).map(e=>(0,r.jsxs)("th",{className:"px-2 sm:px-4 py-1 border text-center text-xs sm:text-sm",children:[e.label," ",y[e.key]&&(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),E(e.key)},className:"text-blue-500 ml-1","aria-label":"Info about ".concat(e.label),children:(0,r.jsx)(o.In,{icon:"mdi:information-outline"})})]},e.key)))})]}),(0,r.jsx)("tbody",{children:e.map((e,t)=>(0,r.jsx)(j,{item:e,idx:t,selectedNutrients:C,computeCalories:O,expanded:!!V[t],onToggleExpanded:$,onDelete:(e,t)=>{t.stopPropagation(),H(e)}},t))}),(0,r.jsx)("tfoot",{children:(0,r.jsxs)("tr",{className:"bg-gray-200 dark:bg-gray-700 dark:text-gray-200",children:[(0,r.jsx)("td",{colSpan:4,className:"px-2 sm:px-4 py-2 text-right font-semibold text-sm",children:"Total Calories:"}),(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 font-semibold text-right text-sm",children:Y.toFixed(2)}),p.map(e=>e.columns.filter(e=>C.includes(e.key)).map(e=>(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2"},e.key))),(0,r.jsx)("td",{})]})})]})}):(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"No foods tracked yet."})]}),(0,r.jsxs)("section",{className:"mb-12",children:[(0,r.jsx)("h2",{className:"text-2xl mb-6 font-semibold dark:text-white",children:"Nutrients Summary"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:[(0,r.jsx)("thead",{className:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-2 sm:px-4 py-2 border text-left text-sm",children:"Nutrient"}),(0,r.jsx)("th",{className:"px-2 sm:px-4 py-2 border text-right text-sm",children:"Consumed"}),(0,r.jsx)("th",{className:"px-2 sm:px-4 py-2 border text-right text-sm",children:"RDA"})]})}),(0,r.jsx)("tbody",{children:C.map(e=>{var t;let a=U[e]||0,l=null!==(t=h[e])&&void 0!==t?t:null;return(0,r.jsxs)("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,r.jsxs)("td",{className:"px-2 sm:px-4 py-2 border flex items-center text-sm",children:[f[e]||e," ",y[e]&&(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),E(e)},className:"text-blue-500 ml-1","aria-label":"Info about ".concat(f[e]||e),children:(0,r.jsx)(o.In,{icon:"mdi:information-outline"})})]}),(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 border text-right text-sm",children:a?a.toFixed(2):"N/A"}),(0,r.jsx)("td",{className:"px-2 sm:px-4 py-2 border text-right text-sm",children:null!=l?l:"-"})]},e)})})]})})]}),(0,r.jsx)(b,{macroPieData:J,progressData:Q,mealPieCharts:W}),S&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>E(null),children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full relative",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-100",children:f[S]||S}),(0,r.jsx)("p",{className:"mb-6 dark:text-gray-300",children:y[S]||"No additional information available."}),(0,r.jsx)("button",{onClick:()=>E(null),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300","aria-label":"Close",children:(0,r.jsx)(o.In,{icon:"mdi:close"})}),(0,r.jsx)("button",{onClick:()=>E(null),className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded-md transition duration-200",children:"Close"})]})}),I&&(0,r.jsx)(_,{title:"Confirm Deletion",message:"Are you sure you want to remove this food item?",onConfirm:()=>{null!==B&&(t(e=>e.filter((e,t)=>t!==B)),D(null),R(!1))},onCancel:()=>{D(null),R(!1)}})]}),(0,r.jsx)(c.A,{})]})}j.displayName="FoodRow"},940:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155);function l(){return(0,r.jsx)("button",{className:"fixed bottom-4 right-4 z-50 bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"↑ Top"})}a(2115)},8591:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(5155),l=a(2115),s=a(8173),n=a.n(s),o=a(4788);function i(e){let{crumbs:t}=e,s=(0,l.useRef)(null),i=(0,l.useRef)(null);return(0,l.useEffect)(()=>{Promise.all([a.e(2798),a.e(7830)]).then(a.bind(a,7830)).then(e=>{let{gsap:t}=e;s.current&&t.fromTo(s.current,{opacity:0,y:-10},{opacity:1,y:0,duration:.6,ease:"power1.out"}),i.current&&t.fromTo(i.current.children,{opacity:0,y:-10},{opacity:1,y:0,stagger:.05,duration:.6,ease:"power1.out"})})},[]),(0,r.jsx)("nav",{ref:s,className:"mb-3 text-gray-600 dark:text-gray-300 text-xs sm:text-sm flex items-center","aria-label":"Breadcrumb",children:(0,r.jsx)("ul",{ref:i,className:"flex space-x-1 items-center",children:t.map((e,a)=>(0,r.jsxs)(l.Fragment,{children:[0===a&&"Home"===e.label?(0,r.jsx)("li",{children:(0,r.jsxs)(n(),{href:e.href||"#",className:"flex items-center hover:underline text-blue-500 transition-colors duration-200",children:[(0,r.jsx)(o.In,{icon:"mdi:home",className:"w-3 h-3 mr-1"}),e.label]})}):e.href?(0,r.jsx)("li",{children:(0,r.jsx)(n(),{href:e.href,className:"hover:underline text-blue-500 transition-colors duration-200",children:e.label})}):(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"text-gray-800 dark:text-gray-100",children:e.label})}),a<t.length-1&&(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"mx-1",children:"/"})})]},a))})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4788,2798,7830,5565,8173,5781,714,7127,8743,1518,3784,2431,6183,9248,1696,7358],()=>t(8516)),_N_E=e.O()}]);